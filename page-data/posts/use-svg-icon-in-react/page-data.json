{
    "componentChunkName": "component---src-templates-blog-post-jsx",
    "path": "/posts/use-svg-icon-in-react/",
    "result": {"data":{"site":{"siteMetadata":{"title":"Programming Life","siteUrl":"https://blog.yury-chang.com"}},"markdownRemark":{"id":"5ea918f9-4519-5fbf-9642-96d950999504","excerpt":"svg icon 優點 可使用 css 調整尺寸、顏色。 svg 格式較為通用，設計要匯出也較為方便，後續維護上會比 icon font 來的容易。 如何調整 SVG 的顏色 能用 css 調整顏色是 svg 很重要的好處，為此需要確保 svg 圖檔是符合一定條件的。 一個表示飛機的 svg icon…","html":"<h2>svg icon 優點</h2>\n<ol>\n<li>可使用 css 調整尺寸、顏色。</li>\n<li>svg 格式較為通用，設計要匯出也較為方便，後續維護上會比 icon font 來的容易。</li>\n</ol>\n<h2>如何調整 SVG 的顏色</h2>\n<p>能用 css 調整顏色是 svg 很重要的好處，為此需要確保 svg 圖檔是符合一定條件的。</p>\n<p>一個表示飛機的 svg icon 可能會長這樣：</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>svg</span> \r\n  <span class=\"token attr-name\">version</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1<span class=\"token punctuation\">\"</span></span> \r\n  <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2000/svg<span class=\"token punctuation\">\"</span></span> \r\n  <span class=\"token attr-name\">viewBox</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0 0 50 50<span class=\"token punctuation\">\"</span></span>\r\n<span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\r\n\t</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>path</span> <span class=\"token attr-name\">fill</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#FFF<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">d</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>M33.5 45.5c-.1 0-.2 0-.3-.1L25 41.3l-8.2 4.2c-.1 0-.2.1-.3.1-.1 0-.2 0-.3-.1-.2-.1-.3-.3-.3-.5v-5.3c0-.2.1-.3.2-.4l4.1–4.4v-4.2L5 35.1h-.2c-.1 0-.3 0-.4-.1-.2-.1-.3-.3-.3-.5v-5.2c0-.2.1-.4.3-.5L20 17.7V9.5c0–3.1 2.2–5.6 4.9–5.6s4.9 2.5 4.9 5.6v8.1l15.6 11.1c.2.1.3.3.3.5v5.2c0 .2-.1.4-.3.5-.1.1-.2.1-.4.1h-.2l-15.1–4.5v4.2l4.1 4.4c.1.1.2.3.2.4v5.3c0 .2-.1.4-.3.5 0 .2-.1.2-.2.2zM25 38c.1 0 .2 0 .3.1l5.9 3v-.6l-4.1–4.4c-.1-.1-.2-.3-.2-.4v-8.3c0-.2.1-.4.3-.5.1-.1.2-.1.4-.1h.2l15.1 4.5v-.9L27.2 19.3c-.2-.1-.3-.3-.3-.5V9.5c0–1.4-.9–2.6–1.9–2.6s-1.9 1.2–1.9 2.6v9.3c0 .2-.1.4-.3.5L7.2 30.4v.9l15.1–4.5h.2c.1 0 .3 0 .4.1.2.1.3.3.3.5v8.3c0 .2-.1.3-.2.4l-4.1 4.4v.6l5.9–3s.1-.1.2-.1z<span class=\"token punctuation\">\"</span></span>\r\n<span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\r\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>svg</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>這時候是還無法用 css 改變顏色，需要把 path 的 fill 改成 <code class=\"language-text\">fill=\"currentColor\"</code>，這樣就可以用 css color 屬性來改變 icon 的顏色了。</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>svg</span> <span class=\"token attr-name\">...</span> <span class=\"token attr-name\">fill</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>currentColor<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\r\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>path</span> \r\n    <span class=\"token attr-name\">fill</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>currentColor<span class=\"token punctuation\">\"</span></span>\r\n    <span class=\"token attr-name\">d</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>M33.5 ...<span class=\"token punctuation\">\"</span></span>\r\n  <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\r\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>svg</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>雖然也可以用 css 設定 fill，但 <code class=\"language-text\">currentColor</code> 還有額外的好處，</p>\n<p>第一，如果 icon 是用 stroke 來畫出圖形的就需要額外的判斷，第二，由於<code class=\"language-text\">currentColor</code> 參考 <code class=\"language-text\">color</code> 的值，因此可以很方便地和文字顏色同步。</p>\n<h2>SVG Optimize</h2>\n<p>實務上工程師拿到由設計匯出的 icon 可能會長這樣：</p>\n<ul>\n<li>圖片</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 31px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c7c36c41fda0c932b12c6e8261d5171a/e4d13/arrow-down.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 80.64516129032259%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABJ0AAASdAHeZh94AAABD0lEQVQ4y72UvQrCMBDH+0wOjm7OTj6C7+HHLg4uLoKLom+gzg4qKM6CUMXB+lEUFNo0OQkxNb02qYOaJU36z4//5e5iwZeH9TMgYyyc1W880nQWFgVUD/xEF3Ooc6KuqaLF5yIO/YDBzPaABGJNkQMVttr7sHVJRBcDPnwGhfYJqqNrKKAoTD56iztkGw6sjwag3LQvBPKtI9TGNwHiB+gb1l8+IFM/wNT2BIwyfdnIQztXQCsvpzIC7ozD5lsvok/MstzE0PJQQLsIRmhyYpQsv39IMQ+f32mxc4Zc0wnDJIbSsnCpYKe2S6A0cGGyMTvTtp6ARu9Uzbipi7S9rDqlSmGnwYyPg6lT/vraPAGaROIXDCX5hwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"arrow-down\"\n        title=\"arrow-down\"\n        src=\"/static/c7c36c41fda0c932b12c6e8261d5171a/e4d13/arrow-down.png\"\n        srcset=\"/static/c7c36c41fda0c932b12c6e8261d5171a/e4d13/arrow-down.png 31w\"\n        sizes=\"(max-width: 31px) 100vw, 31px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ul>\n<li>svg</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>svg</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2000/svg<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>24<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>24<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">viewBox</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0 0 24 24<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\r\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>g</span> <span class=\"token attr-name\">fill</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>none<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">fill-rule</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>evenodd<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke-linecap</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>round<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke-linejoin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>round<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\r\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>g</span> <span class=\"token attr-name\">stroke</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#3791EA<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke-width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1.4<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\r\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>g</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\r\n                </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>g</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\r\n                    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>path</span> <span class=\"token attr-name\">d</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>M16.437 13L7.437 13 7.437 4<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">transform</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>translate(-944 -946) translate(212 920) translate(732 26) scale(-1 1) rotate(-45 0 37.317)<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\r\n                </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>g</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\r\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>g</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\r\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>g</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\r\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>g</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\r\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>svg</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>可以發現這個 icon 包含了很多不必要的屬性和標籤 <code class=\"language-text\">&lt;g></code>，並且我們還需要把 <code class=\"language-text\">stroke</code> 改成 <code class=\"language-text\">currentColor</code> 才可以用 css 調整顏色，如果要手動調整既枯燥又繁瑣，所幸我們可以倚靠 <a href=\"https://github.com/svg/svgo\">SVGO</a> 的幫助。</p>\n<p><a href=\"https://github.com/svg/svgo\">SVGO</a> 是個幫忙優化 svg 的套件，可以簡單的透過 command line 執行，或是和 webpack、gulp 整合。</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ svgo one.svg two.svg -o one.min.svg two.min.svg</code></pre></div>\n<h2><strong><strong><a href=\"https://react-svgr.com/\">Transform SVGs into React components - SVGR</a></strong></strong></h2>\n<p>svg 處理完之後，可以再包成 component 來使用，react 可以用 <a href=\"https://react-svgr.com/\">SVGR</a> 來處理。</p>\n<p><a href=\"https://react-svgr.com/\">SVGR</a> 是一個負責把 svg 轉換成 React Component 的套件，並且內部使用了 <a href=\"https://github.com/svg/svgo\">SVGO</a> 來對 svg 圖檔進行優化，可以自動幫我們剔除不必要的屬性和標籤。</p>\n<p>要優化 svg 以符合上述的條件，我們可以建立 svgr config, <code class=\"language-text\">.svgrrc</code></p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\r\n    <span class=\"token property\">\"icon\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token property\">\"replaceAttrValues\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token property\">\"#3791EA\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"currentColor\"</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3><a href=\"https://react-svgr.com/docs/options/\">SVGR Options</a></h3>\n<table>\n<thead>\n<tr>\n<th>icon</th>\n<th>把 svg 的 width 和 height 替換為指定的數值，如果設為 true 則等於 1rem。</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>replaceAttrValues</td>\n<td>把 attribute 中特定的值替換成新的，通常用來把 fill 或 stroke 的顏色換成 currentColor 。</td>\n</tr>\n</tbody>\n</table>\n<h2>參考</h2>\n<p><a href=\"https://medium.com/@timothyde/flexible-svg-components-in-react-788b108c61c3\">Flexible SVG components in React</a></p>\n<p><a href=\"https://cythilya.github.io/2018/08/20/svg-sprites/\">SVG Sprites | Summer。桑莫。夏天</a></p>","frontmatter":{"title":"在 React 中使用 svg icon 的方式","date":"April 05, 2022","description":null,"tags":["svg icon","react"],"keywords":["SVG Icon"]}},"previous":{"fields":{"slug":"/posts/understand-JavaScript-async/"},"frontmatter":{"title":"理解 JavaScript 非同步機制的運作"}},"next":null},"pageContext":{"id":"5ea918f9-4519-5fbf-9642-96d950999504","previousPostId":"38f85b14-22cb-5c7b-92e4-6d2bd1a8d377","nextPostId":null}},
    "staticQueryHashes": ["3000541721","3257411868"]}